.SILENT:
.SUFFIXES: .cpp .o .rc .h

SOURCES = main.cpp
OBJECTS = $(SOURCES:.cpp=.o)
RC_OBJS = $(RC_FILES:.rc=.o)
BIN 	= bin

.cpp.o:
	echo --- compilation: $*.cpp ...
	g++ -c -Wall $< -o $@

.rc.o:
	echo --- compilation: $*.rc ...
	windres -DWIN32 -o $@ $<
	
#all: $(SOURCES) $(BIN)
	
$(BIN): $(OBJECTS) $(RC_OBJS)
	echo Linking:  $(BIN)
	g++ $(OBJECTS) $(RC_OBJS) -static-libgcc -static-libstdc++ -o $@

clean:
	@rm -f *.o *.exe